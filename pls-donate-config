#!/usr/bin/env bash
set -euo pipefail

# Give Termux storage access (first run shows a prompt)
if [ ! -d "/storage/emulated/0" ]; then
  termux-setup-storage
fi

AUTOEXEC="/storage/emulated/0/Arceus X/Autoexec"
WORKSPACE="/storage/emulated/0/Arceus X/Workspace"

mkdir -p "$AUTOEXEC" "$WORKSPACE"

# --- File: reconnect.txt ---
cat <<'LUA' > "$AUTOEXEC/reconnect.txt"
loadstring(game:HttpGet('https://raw.githubusercontent.com/nullus7/reconnect/refs/heads/main/checkonline.lua'))()
wait(10)
loadstring(game:HttpGet('https://raw.githubusercontent.com/nullus7/reconnect/refs/heads/main/checkonline.lua'))()
LUA

# --- File: plsdonate.txt ---
cat <<'LUA' > "$AUTOEXEC/plsdonate.txt"
wait(11)
loadstring(game:HttpGet("https://raw.githubusercontent.com/CF-Trail/tzechco-PlsDonateAutofarmBackup/main/old.lua"))()
LUA

# --- File: fpslimited.txt ---
cat <<'LUA' > "$AUTOEXEC/fpslimited.txt"
local RunService = game:GetService("RunService")
local MaxFPS = 20
while true do
    local t0 = tick()
    RunService.RenderStepped:Wait()
    repeat until (t0 + 1/MaxFPS) < tick()
end
LUA

# --- File: plsdonatesettings.txt (valid JSON) ---
# NOTE: I fixed typos/quotes and kept your text + colors.
# If you use a Discord webhook, treat it as a secret (anyone with it can post to your channel).
cat <<'JSON' > "$WORKSPACE/plsdonatesettings.txt"
{
  "render": true,
  "boothSwitcher": false,
  "customBoothText": "<html><font color=\"#1E90FF\">MORE ROBUX IS THE FASTER I SPIN</font></html>\n",
  "serverHopDelay": 15,
  "signText": "your text here",
  "thanksMessage": ["Thank you", "Thanks!", "ty :)", "tysm!"],
  "autoReplyNoRespond": false,
  "webhookType": "New",
  "goalServerhopSwitch": false,
  "rainbowText": false,
  "boothTop": false,
  "serverHopToggle": true,
  "danceChoice": "Disabled",
  "goalBox": 5,
  "begDelay": 300,
  "removeHeadNametag": false,
  "pingEveryone": true,
  "begMessage": [
    "1R$ = +1 SPIN SPEED",
    "Spinning for donations!",
    "the more you donate the faster i spin!",
    "donate and i will spin faster"
  ],
  "goalServerhopGoal": 0,
  "donateResponce": [
    "sorry im saving",
    "i am saving for my dream item",
    "sorry my robux is pending"
  ],
  "thanksDelay": 3,
  "AnonymousMode": false,
  "signUpdateToggle": false,
  "webhookBox": "https://discord.com/api/webhooks/1405186193506963587/2SzxRqy9fP9Uw9KvRUHCFBU4hHm7WA_bUF8GZB8Ej6AINcYuuVmZR61371X2mhDV5Et7yj",
  "boothPosition": 3,
  "serverHopAfterDonation": false,
  "signToggle": false,
  "scamResponce": ["im no scam", "im not a scammer", "this is not a scam"],
  "spinSpeedMultiplier": 1,
  "webhookToggle": true,
  "friendHop": true,
  "autoNearReply": false,
  "fontSize": 5,
  "hexBox": "#32CD32",
  "webhookAfterSH": false,
  "taggedBoothHop": false,
  "signHexBox": "#ffffff",
  "vcServer": false,
  "autoThanks": true,
  "staffHopA": true,
  "standingPosition": "Front",
  "pingAboveDono": 100,
  "autoBeg": true,
  "robuxLap": false,
  "AlternativeHop": false,
  "jumpsPerRobux": 1,
  "minimumDonated": 0,
  "noFont": false,
  "jumpBoost": false,
  "fpsLimit": 20,
  "helicopterEnabled": false,
  "botResponce": ["no im not", "im not a bot"],
  "fpsBoost": false,
  "textUpdateToggle": true,
  "spinSet": true,
  "textUpdateDelay": 30,
  "helloResponce": ["Hi", "Sup", "Hello"],
  "donationJump": false,
  "otherResponce": [" ..? ", "what", "?"],
  "highlightSwitch": false,
  "gravitySwitch": false,
  "fontFace": "ArialBold",
  "antiBotServers": true
}
JSON

echo "Done!"
echo "Created:"
echo "  $AUTOEXEC/reconnect.txt"
echo "  $AUTOEXEC/plsdonate.txt"
echo "  $AUTOEXEC/fpslimited.txt"
echo "  $WORKSPACE/plsdonatesettings.txt"
